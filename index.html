<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Marquer Mark Creatives</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">

<!-- Firebase Scripts -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<script>
  // Firebase configuration - REPLACE with your own Web app config
  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
    projectId: "YOUR_PROJECT_ID",
    storageBucket: "YOUR_PROJECT_ID.appspot.com",
    messagingSenderId: "YOUR_SENDER_ID",
    appId: "YOUR_APP_ID"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();
  const auth = firebase.auth();
</script>

<style>
/* Base Styles */
* { box-sizing:border-box; margin:0; padding:0; font-family:'Roboto', sans-serif; }
body { background:#181818; color:#f0f0f0; overflow-x:hidden; }
.sidebar { position: fixed; top:0; left:0; width:250px; height:100vh; background: linear-gradient(180deg,#1c1c1c,#282828); display:flex; flex-direction:column; justify-content:space-between; padding:20px; border-right:1px solid #444; box-shadow: 2px 0 10px rgba(0,0,0,0.7); z-index:1000; }
.sidebar h2 { margin-bottom:30px; font-size:1.8em; color:#ffcc66; text-shadow: 0 0 5px #ffcc66; }
.nav-links a { display:block; padding:12px 0; font-weight:500; color:#fff; text-decoration:none; transition:0.3s; text-shadow: 0 0 2px rgba(255,255,255,0.2); }
.nav-links a:hover { color:#ff5252; text-shadow:0 0 8px #ff5252; }
.personal-info { margin-top:auto; font-size:0.95em; color:#ccc; }
.personal-info p { margin-bottom:5px; display:flex; align-items:center; gap:5px; }
.toggle-btn { display:none; }
@media(max-width:768px){
  .sidebar{ left:-260px; transition:0.3s; width:200px; }
  .sidebar.active{ left:0; }
  .toggle-btn{ display:block; position:fixed; top:20px; left:20px; background:#ff5252; color:#fff; border:none; padding:10px; z-index:1001; cursor:pointer; border-radius:5px; box-shadow:0 0 10px rgba(255,0,0,0.5); }
  .main{ margin-left:0; padding-top:80px; }
}
.main { margin-left:250px; padding:40px; transition: margin 0.3s; }
h1,h2,h3 { margin-bottom:15px; }
.section { display:none; position:relative; min-height:80vh; transition: opacity 0.5s; }
#home { display:block; padding:60px 40px; border-radius:10px; background: radial-gradient(circle at top left,#2a2a2a,#181818); box-shadow: inset 0 0 100px rgba(255,255,255,0.05); }
#home h1 { color:#ffcc66; font-size:3em; text-shadow:0 0 10px #ffcc66; }
#home p { color:#ddd; font-size:1.3em; text-shadow:0 0 5px rgba(255,255,255,0.1); }
.portfolio { display:grid; grid-template-columns: repeat(auto-fit,minmax(250px,1fr)); gap:20px; margin-top:20px; }
.card { background: linear-gradient(135deg,#1c1c1c,#2a2a2a); padding:15px; border-radius:10px; border:2px solid #333; transition:0.3s; position:relative; box-shadow: 0 0 15px rgba(255,255,255,0.05); }
.card:hover { border-color:#ff5252; box-shadow:0 0 20px rgba(255,82,82,0.4); transform: translateY(-5px);}
.card h3, .card h4 { color:#ffcc66; font-size:1.3em; }
.card p { color:#ddd; }
.card a { color:#ff5252; font-weight:500; }
.admin-panel input, .admin-panel textarea, .submission-form input, .submission-form textarea { width:100%; padding:10px; margin-bottom:10px; border-radius:5px; border:1px solid #333; background:#222; color:#f0f0f0; }
.admin-panel button, .submission-form button { background:#ff5252; color:#fff; border:none; padding:10px 20px; cursor:pointer; border-radius:5px; box-shadow:0 0 10px rgba(255,82,82,0.4);}
.admin-panel button:hover, .submission-form button:hover { box-shadow:0 0 15px rgba(255,82,82,0.7); }
@media(max-width:768px){ #home h1 { font-size:2em; } .portfolio { grid-template-columns: 1fr; } }
</style>
</head>
<body>

<!-- Sidebar -->
<div class="sidebar" id="sidebar">
  <div>
    <h2>Marquer Mark</h2>
    <div class="nav-links">
      <a href="#" onclick="showSection('home')">Home</a>
      <a href="#" onclick="showSection('portfolio')">Portfolio</a>
      <a href="#" onclick="showSection('about')">About</a>
      <a href="#" onclick="showSection('contact')">Contact</a>
      <a href="#" onclick="showSection('login')">Admin</a>
    </div>
  </div>
  <div class="personal-info">
    <p>ðŸŽ¬ Mark Mutugi</p>
    <p>ðŸ“ž +25498160452</p>
    <p>ðŸ“§ marquermark345@gmail.com</p>
  </div>
</div>

<button class="toggle-btn" onclick="toggleSidebar()">â˜°</button>

<div class="main">

  <!-- Home Section -->
  <section class="section" id="home">
    <h1>Welcome to Marquer Mark Creatives</h1>
    <p>Bringing cinematic storytelling to life.</p>
  </section>

  <!-- Portfolio Section -->
  <section class="section" id="portfolio">
    <h2>Portfolio</h2>
    <div class="portfolio" id="portfolioContainer"></div>

    <h3>Submit Your Work</h3>
    <div class="submission-form">
      <input type="text" id="submitName" placeholder="Your Name">
      <input type="text" id="submitTitle" placeholder="Project Title">
      <input type="url" id="submitLink" placeholder="Project Link">
      <textarea id="submitDesc" rows="3" placeholder="Description"></textarea>
      <input type="text" id="submitContact" placeholder="Contact Info">
      <button onclick="submitWork()">Submit</button>
      <p id="submitMsg" style="margin-top:10px;"></p>
    </div>
  </section>

  <!-- About Section -->
  <section class="section" id="about">
    <h2>About Me</h2>
    <p>Hello! Iâ€™m <strong>Mark Mutugi</strong>, a filmmaker, 3D artist, and creative storyteller.</p>
  </section>

  <!-- Contact Section -->
  <section class="section" id="contact">
    <h2>Contact</h2>
    <p>Email: marquermark345@gmail.com</p>
    <p>Phone: +25498160452</p>
  </section>

  <!-- Admin Login Section -->
  <section class="section" id="login">
    <h2>Admin Login</h2>
    <input type="email" id="adminEmail" placeholder="Email">
    <input type="password" id="adminPassword" placeholder="Password">
    <button onclick="adminLogin()">Login</button>
    <p id="loginMsg"></p>
  </section>

  <!-- Admin Panel -->
  <section class="section admin-panel" id="adminPanel" style="display:none;">
    <h2>Admin Panel</h2>
    <h3>Upload Your Project</h3>
    <input type="text" id="adminTitle" placeholder="Project Title">
    <input type="url" id="adminLink" placeholder="Project Link">
    <textarea id="adminDesc" rows="3" placeholder="Description"></textarea>
    <button onclick="addAdminProject()">Add Project</button>

    <h3>Pending Collaborator Submissions</h3>
    <div id="pendingSubmissions"></div>
  </section>

</div>

<script>
// Sidebar toggle
function toggleSidebar(){ document.getElementById('sidebar').classList.toggle('active'); }
function showSection(sectionId){
  const sections = document.querySelectorAll('.section');
  sections.forEach(sec=> sec.id===sectionId ? sec.style.display='block' : sec.style.display='none');
}

// Load approved projects
db.collection("projects").where("approved","==",true).orderBy("createdAt","desc").onSnapshot(snapshot=>{
  const container = document.getElementById('portfolioContainer');
  container.innerHTML="";
  snapshot.forEach(doc=>{
    const item = doc.data();
    const card = document.createElement('div');
    card.className="card";
    card.innerHTML = `<h3>${item.title}</h3><p>${item.description}</p><p>Contact: ${item.contact}</p><a href="${item.link}" target="_blank">View Work</a>`;
    container.appendChild(card);
  });
});

// Collaborator submission
function submitWork(){
  const name = document.getElementById('submitName').value;
  const title = document.getElementById('submitTitle').value;
  const link = document.getElementById('submitLink').value;
  const desc = document.getElementById('submitDesc').value;
  const contact = document.getElementById('submitContact').value;
  const msg = document.getElementById('submitMsg');
  if(!name||!title||!link||!desc||!contact){ msg.textContent="Fill all fields"; msg.style.color="red"; return; }
  db.collection("submissions").add({
    name,title,link,description:desc,contact,approved:false,createdAt:firebase.firestore.FieldValue.serverTimestamp()
  }).then(()=>{ msg.textContent="Submission received! Pending approval."; msg.style.color="lightgreen";
    document.getElementById('submitName').value=''; document.getElementById('submitTitle').value=''; document.getElementById('submitLink').value=''; document.getElementById('submitDesc').value=''; document.getElementById('submitContact').value='';
  });
}

// Admin login
function adminLogin(){
  const email=document.getElementById('adminEmail').value;
  const password=document.getElementById('adminPassword').value;
  const msg=document.getElementById('loginMsg');
  auth.signInWithEmailAndPassword(email,password).then(user=>{
    msg.textContent="Login successful!"; msg.style.color="lightgreen";
    document.getElementById('login').style.display="none";
    document.getElementById('adminPanel').style.display="block";
    loadPendingSubmissions();
  }).catch(err=>{ msg.textContent=err.message; msg.style.color="red"; });
}

// Admin add project
function addAdminProject(){
  const title=document.getElementById('adminTitle').value;
  const link=document.getElementById('adminLink').value;
  const desc=document.getElementById('adminDesc').value;
  if(!title||!link||!desc){ alert("Fill all fields"); return; }
  db.collection("projects").add({title,link,description:desc,approved:true,contact:"Admin",createdAt:firebase.firestore.FieldValue.serverTimestamp()})
  .then(()=>{ alert("Project added!"); document.getElementById('adminTitle').value=''; document.getElementById('adminLink').value=''; document.getElementById('adminDesc').value=''; });
}

// Load pending collaborator submissions
function loadPendingSubmissions(){
  const container=document.getElementById('pendingSubmissions');
  db.collection("submissions").where("approved","==",false).onSnapshot(snapshot=>{
    container.innerHTML="";
    snapshot.forEach(doc=>{
      const item=doc.data();
      const div=document.createElement('div');
      div.className="card";
      div.innerHTML=`<h4>${item.title} by ${item.name}</h4><p>${item.description}</p><p>Contact: ${item.contact}</p><button onclick="approveSubmission('${doc.id}')">Approve</button>`;
      container.appendChild(div);
    });
  });
}

// Approve submission
function approveSubmission(docId){ db.collection("submissions").doc(docId).update({approved:true}).then(()=>alert("Submission approved!")); }

document.addEventListener('DOMContentLoaded',()=>{ showSection('home'); });
</script>

</body>
</html>
