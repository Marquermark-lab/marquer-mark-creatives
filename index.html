<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Marquer Mark Creatives</title>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#0b0b0d;
  --panel:#111217;
  --accent:#d6b36a;
  --soft:rgba(255,255,255,0.06);
}
*{box-sizing:border-box;margin:0;padding:0;}
body{
  background:#0b0b0d;
  font-family:Inter,sans-serif;
  color:#eee;
  overflow-x:hidden;
  position:relative;
}

/* Cinematic background layers */
.layer{
  position:fixed; inset:0; pointer-events:none; z-index:0;
}
.grain{
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8'/%3E%3C/filter%3E%3Crect width='120' height='120' filter='url(%23n)' opacity='.03'/%3E%3C/svg%3E");
  animation:grainMove 10s infinite alternate;
}
.light1, .light2{
  border-radius:50%;
  background:radial-gradient(circle, rgba(214,179,106,.08), transparent 70%);
  width:600px;height:600px;
  animation:drift 40s infinite alternate ease-in-out;
}
.light2{animation-duration:55s;}

@keyframes drift{0%{transform:translate(0,0);}100%{transform:translate(200px,150px);}}
@keyframes grainMove{0%{opacity:.02;}50%{opacity:.04;}100%{opacity:.02;}}

/* Layout */
.app{display:flex;min-height:100vh;position:relative;z-index:2;}
aside{width:240px;background:var(--panel);padding:30px 20px;border-right:1px solid var(--soft);}
aside h1{font-family:Cinzel,serif;font-size:20px;margin-bottom:30px;color:var(--accent);}
nav button{width:100%;background:none;border:none;color:#aaa;text-align:left;padding:12px;cursor:pointer;transition:.3s;font-size:15px;}
nav button:hover{color:#fff;background:rgba(255,255,255,.05);}
main{flex:1;padding:60px;}
section{display:none;animation:fadeUp .8s ease forwards;}
section.active{display:block;}
@keyframes fadeUp{from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}}
h2{font-family:Cinzel,serif;font-size:38px;margin-bottom:20px;}
p{max-width:650px;line-height:1.7;color:#ccc;}

/* Forms */
input,textarea{width:100%;margin:10px 0;padding:10px;background:#0f1016;border:1px solid var(--soft);color:#fff;}
button.primary{background:var(--accent);color:#000;padding:10px 18px;border:none;cursor:pointer;margin-top:10px;}

/* Admin */
#adminBtn{display:none;}
#adminPanel{margin-top:40px;padding:20px;border:1px solid var(--soft);background:rgba(255,255,255,.03);}

/* Responsive */
@media(max-width:768px){aside{display:none;}main{padding:30px;}}
</style>
</head>

<body>
<!-- Cinematic layers -->
<div class="layer grain"></div>
<div class="layer light1" style="top:-200px;left:-200px;"></div>
<div class="layer light2" style="bottom:-250px;right:-250px;"></div>

<div class="app">
  <aside>
    <h1>Marquer Mark</h1>
    <nav>
      <button onclick="show('home')">Home</button>
      <button onclick="show('about')">About</button>
      <button onclick="show('portfolio')">Portfolio</button>
      <button onclick="show('submit')">Submit Work</button>
      <button onclick="show('contact')">Contact</button>
      <button id="adminBtn" onclick="show('admin')">Admin Panel</button>
    </nav>
  </aside>

  <main>
    <section id="home" class="active">
      <h2>Welcome to Marquer Mark Creatives</h2>
      <p>A cinematic space for storytelling, motion, and immersive experiences.</p>
    </section>

    <section id="about">
      <h2>About</h2>
      <p>I’m Mark Mutugi — filmmaker, 3D artist, and storyteller. I craft cinematic experiences that breathe, frame by frame.</p>
    </section>

    <section id="portfolio">
      <h2>Portfolio</h2>
      <div id="portfolioContainer">
        <p>Approved works will appear here.</p>
      </div>
    </section>

    <section id="submit">
      <h2>Submit Your Work</h2>
      <input id="subName" placeholder="Name">
      <input id="subEmail" placeholder="Email">
      <input id="subLink" placeholder="Project Link (YouTube/Vimeo/Drive)">
      <textarea id="subDesc" placeholder="Short description"></textarea>
      <button class="primary" onclick="submitWork()">Submit</button>
      <p id="subMsg"></p>
    </section>

    <section id="contact">
      <h2>Contact</h2>
      <p>Email: marquermark345@gmail.com<br>Phone: +25498160452</p>
    </section>

    <section id="admin">
      <h2>Admin Panel</h2>
      <div id="adminPanel">
        <p>Pending submissions will appear here after login.</p>
      </div>
    </section>
  </main>
</div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
  import { getAuth, signInWithEmailAndPassword, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";
  import { getFirestore, collection, addDoc, query, where, getDocs } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_PROJECT.firebaseapp.com",
    projectId: "YOUR_PROJECT_ID"
  };

  const ADMIN_EMAIL = "marquermark345@gmail.com";

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getFirestore(app);

  // Show section
  window.show = (id) => {
    document.querySelectorAll("section").forEach(s => s.classList.remove("active"));
    document.getElementById(id).classList.add("active");
  };

  // Admin login prompt
  window.addEventListener('DOMContentLoaded', async ()=>{
    const email = prompt("Admin Email (leave empty for guest mode):");
    if(email===ADMIN_EMAIL){
      const pwd = prompt("Password:");
      try{
        await signInWithEmailAndPassword(auth,email,pwd);
        document.getElementById("adminBtn").style.display="block";
        alert("Admin logged in");
      }catch(e){
        alert("Login failed, continuing in guest mode.");
      }
    }
  });

  // Submit work
  async function submitWork(){
    const name = document.getElementById("subName").value;
    const email = document.getElementById("subEmail").value;
    const link = document.getElementById("subLink").value;
    const desc = document.getElementById("subDesc").value;
    const msg = document.getElementById("subMsg");
    if(!name||!email||!link||!desc){msg.textContent="Fill all fields";msg.style.color="red"; return;}
    try{
      await addDoc(collection(db,"submissions"),{name,email,link,desc,approved:false,date:new Date()});
      msg.textContent="Submission received! Pending approval.";
      msg.style.color="lightgreen";
      document.getElementById("subName").value="";
      document.getElementById("subEmail").value="";
      document.getElementById("subLink").value="";
      document.getElementById("subDesc").value="";
    }catch(e){msg.textContent="Failed to submit";msg.style.color="red";}
  }

  // Load approved portfolio
  async function loadPortfolio(){
    const container = document.getElementById("portfolioContainer");
    container.innerHTML="";
    const q = query(collection(db,"submissions"),where("approved","==",true));
    const querySnapshot = await getDocs(q);
    querySnapshot.forEach(doc=>{
      const d = doc.data();
      const card = document.createElement("div");
      card.innerHTML=`<h3>${d.name}</h3><p>${d.desc}</p><a href="${d.link}" target="_blank">View</a>`;
      container.appendChild(card);
    });
  }

  loadPortfolio();
</script>
</body>
</html>
