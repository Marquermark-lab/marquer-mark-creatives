<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Marquer Mark Creatives</title>
<meta name="description" content="Marquer Mark Creatives â€“ cinematic storytelling, videography, photography, animation & 3D.">
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
/* Base */
* { box-sizing:border-box; margin:0; padding:0; font-family:'Roboto', sans-serif; }
body { background:#181818; color:#f0f0f0; transition: background 0.5s; overflow-x:hidden; }

/* Sidebar */
.sidebar {
  position: fixed; top:0; left:0; width:250px; height:100vh;
  background: linear-gradient(180deg,#1c1c1c,#282828);
  display:flex; flex-direction:column; justify-content:space-between;
  padding:20px; border-right:1px solid #444; box-shadow: 2px 0 10px rgba(0,0,0,0.7); z-index:1000;
}
.sidebar h2 { margin-bottom:30px; font-size:1.8em; color:#ffcc66; text-shadow: 0 0 5px #ffcc66; }
.nav-links a {
  display:block; padding:12px 0; font-weight:500; color:#fff; text-decoration:none;
  transition:0.3s; text-shadow: 0 0 2px rgba(255,255,255,0.2);
}
.nav-links a:hover { color:#ff5252; text-shadow:0 0 8px #ff5252; }
.personal-info { margin-top:auto; font-size:0.95em; color:#ccc; }
.personal-info p { margin-bottom:5px; display:flex; align-items:center; gap:5px; }

/* Toggle button for mobile */
.toggle-btn { display:none; }
@media(max-width:768px){
  .sidebar{ position:fixed; left:-260px; transition:0.3s; width:200px;}
  .sidebar.active{ left:0; }
  .toggle-btn{
    display:block; position:fixed; top:20px; left:20px;
    background:#ff5252; color:#fff; border:none; padding:10px;
    z-index:1001; cursor:pointer; border-radius:5px; box-shadow:0 0 10px rgba(255,0,0,0.5);
  }
  .main{ margin-left:0; padding-top:80px; }
}

/* Main content */
.main { margin-left:250px; padding:40px; transition: margin 0.3s; }
h1,h2,h3 { margin-bottom:15px; }

/* Sections */
.section { display:none; position:relative; min-height:80vh; transition: opacity 0.5s; }
#home { display:block; padding:60px 40px; border-radius:10px; background: radial-gradient(circle at top left,#2a2a2a,#181818); box-shadow: inset 0 0 100px rgba(255,255,255,0.05); }
#home h1 { color:#ffcc66; font-size:3em; text-shadow:0 0 10px #ffcc66; animation: glow 3s infinite alternate; }
#home p { color:#ddd; font-size:1.3em; text-shadow:0 0 5px rgba(255,255,255,0.1); animation: fadeIn 2s forwards; }

/* Portfolio */
.portfolio { display:grid; grid-template-columns: repeat(auto-fit,minmax(250px,1fr)); gap:20px; margin-top:20px; }
.card {
  background: linear-gradient(135deg,#1c1c1c,#2a2a2a);
  padding:15px; border-radius:10px; border:2px solid #333; transition:0.3s; position:relative;
  box-shadow: 0 0 15px rgba(255,255,255,0.05);
}
.card:hover { border-color:#ff5252; box-shadow:0 0 20px rgba(255,82,82,0.4); transform: translateY(-5px);}
.card h3 { color:#ffcc66; font-size:1.3em; }
.card p { color:#ddd; }
.card a { color:#ff5252; font-weight:500; }

/* Forms */
.admin-form, .submission-form { margin-top:20px; padding:15px; background: linear-gradient(135deg,#1c1c1c,#2a2a2a); border-radius:10px; box-shadow:0 0 15px rgba(0,0,0,0.3);}
.admin-form input, .admin-form textarea, .submission-form input, .submission-form textarea {
  width:100%; padding:10px; margin-bottom:10px; border-radius:5px; border:1px solid #333; background:#222; color:#f0f0f0;
}
.admin-form button, .submission-form button { background:#ff5252; color:#fff; border:none; padding:10px 20px; cursor:pointer; border-radius:5px; box-shadow:0 0 10px rgba(255,82,82,0.4);}
.admin-form button:hover, .submission-form button:hover { box-shadow:0 0 15px rgba(255,82,82,0.7); }

/* About Section */
#about h2 { font-size:2em; color:#ffcc66; }
#about h3 { font-size:1.4em; color:#ffad33; margin-top:15px; }
#about p, #about ul li { font-size:1.1em; line-height:1.5; color:#ddd; }

/* Animations */
@keyframes glow {0% { text-shadow: 0 0 20px rgba(255,204,102,0.4);}50% { text-shadow: 0 0 40px rgba(255,204,102,0.8);}100% { text-shadow: 0 0 20px rgba(255,204,102,0.4);}}
@keyframes fadeIn {0% { opacity:0; transform: translateY(20px);}100% { opacity:1; transform: translateY(0);}}

.floating-icon {
  position:absolute; width:25px; height:25px; opacity:0.25; pointer-events:none;
  border-radius:50%; animation: float linear infinite;
}
@keyframes float {
  0% { transform: translateY(0) translateX(0);}
  50% { transform: translateY(-30px) translateX(30px);}
  100% { transform: translateY(0) translateX(0);}
}

/* Responsive adjustments */
@media(max-width:768px){
  #home h1 { font-size:2em; }
  #home p { font-size:1em; }
  .card { padding:10px; }
  .portfolio { grid-template-columns: 1fr; }
  .floating-icon { display:none; }
}
</style>
</head>
<body>

<div class="sidebar" id="sidebar">
  <div>
    <h2>Marquer Mark</h2>
    <div class="nav-links">
      <a href="#" onclick="showSection('home')">Home</a>
      <a href="#" onclick="showSection('portfolio')">Portfolio</a>
      <a href="#" onclick="showSection('about')">About</a>
      <a href="#" onclick="showSection('contact')">Contact</a>
    </div>
  </div>
  <div class="personal-info">
    <p>ðŸŽ¬ Mark Mutugi</p>
    <p>ðŸ“ž +25498160452</p>
    <p>ðŸ“§ marquermark345@gmail.com</p>
  </div>
</div>

<button class="toggle-btn" onclick="toggleSidebar()">â˜°</button>

<div class="main">

  <section class="section" id="home">
    <h1>Welcome to Marquer Mark Creatives</h1>
    <p>Bringing cinematic storytelling to life.</p>
  </section>

  <section class="section" id="portfolio">
    <h2>Portfolio</h2>
    <div class="portfolio" id="portfolioContainer"></div>

    <div id="adminForm" class="admin-form" style="display:none;">
      <h3>Admin Panel</h3>
      <input type="text" id="adminTitle" placeholder="Project Title">
      <input type="url" id="adminLink" placeholder="Project Link">
      <textarea id="adminDesc" rows="3" placeholder="Description"></textarea>
      <button onclick="addAdminProject()">Add Project</button>

      <h4>Pending Submissions</h4>
      <div id="pendingContainer"></div>
    </div>

    <div class="submission-form">
      <h3>Submit Your Work</h3>
      <input type="text" id="submitName" placeholder="Your Name">
      <input type="text" id="submitTitle" placeholder="Project Title">
      <input type="url" id="submitLink" placeholder="Project Link">
      <textarea id="submitDesc" rows="3" placeholder="Description"></textarea>
      <button onclick="submitWork()">Submit</button>
      <p id="submitMsg" style="margin-top:10px;"></p>
    </div>
  </section>

  <section class="section" id="about">
    <h2>About Me</h2>
    <p>Hello! Iâ€™m <strong>Mark Mutugi</strong>, a filmmaker, 3D artist, and creative storyteller.</p>
  </section>

  <section class="section" id="contact">
    <h2>Contact</h2>
    <p>Email: marquermark345@gmail.com</p>
    <p>Phone: +25498160452</p>
  </section>

</div>

<script type="module">
// Firebase setup
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.26.0/firebase-app.js";
import { getFirestore, collection, addDoc, getDocs, updateDoc, doc } from "https://www.gstatic.com/firebasejs/11.26.0/firebase-firestore.js";
import { getAuth, signInWithEmailAndPassword, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.26.0/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyDmSo4844PNyJ-v8pcsgncF8YeHhI1_Dog",
  authDomain: "my-website-d9dbb.firebaseapp.com",
  projectId: "my-website-d9dbb",
  storageBucket: "my-website-d9dbb.appspot.com",
  messagingSenderId: "1068928764308",
  appId: "1:1068928764308:web:0827f5fc0bbecce3cb6781"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const auth = getAuth(app);

// Sidebar toggle & section switch
function toggleSidebar(){ document.getElementById('sidebar').classList.toggle('active'); }
function showSection(sectionId){
  const sections = document.querySelectorAll('.section');
  sections.forEach(sec => { sec.style.display = (sec.id === sectionId)? 'block':'none'; sec.style.opacity=(sec.id===sectionId)?0:1; setTimeout(()=>{if(sec.id===sectionId) sec.style.opacity=1;},50); });
}
document.addEventListener('DOMContentLoaded', ()=>{ showSection('home'); });

// Admin login prompt using Firebase Auth
let isAdmin = false;
async function adminLogin(){
  const email = prompt("Admin Email:");
  const password = prompt("Password:");
  try{
    await signInWithEmailAndPassword(auth,email,password);
  }catch(e){ alert("Wrong credentials"); return; }
}
onAuthStateChanged(auth,user=>{
  if(user){ isAdmin=true; document.getElementById('adminForm').style.display='block'; loadPending(); alert("Admin access granted!"); }
});

// Load approved portfolio
async function loadPortfolio(){
  const container = document.getElementById('portfolioContainer');
  container.innerHTML='';
  const querySnapshot = await getDocs(collection(db,'submissions'));
  querySnapshot.forEach(docSnap=>{
    const data = docSnap.data();
    if(data.approved){
      const card = document.createElement('div');
      card.className="card";
      card.innerHTML = `<h3>${data.title}</h3><p>${data.description}</p><p>By: ${data.name}</p><a href="${data.link}" target="_blank">View Work</a>`;
      container.appendChild(card);
    }
  });
}
loadPortfolio();

// Admin add project
async function addAdminProject(){
  const title=document.getElementById('adminTitle').value;
  const link=document.getElementById('adminLink').value;
  const desc=document.getElementById('adminDesc').value;
  if(!title || !link || !desc){ alert("Fill all fields"); return; }
  await addDoc(collection(db,'submissions'),{name:'Admin',title,link,description:desc,approved:true});
  document.getElementById('adminTitle').value=''; document.getElementById('adminLink').value=''; document.getElementById('adminDesc').value='';
  loadPortfolio(); loadPending();
}

// Collaborator submit
async function submitWork(){
  const name=document.getElementById('submitName').value;
  const title=document.getElementById('submitTitle').value;
  const link=document.getElementById('submitLink').value;
  const desc=document.getElementById('submitDesc').value;
  const msg=document.getElementById('submitMsg');
  if(!name||!title||!link||!desc){ msg.textContent="Fill all fields"; msg.style.color="red"; return; }
  await addDoc(collection(db,'submissions'),{name,title,link,description:desc,approved:false});
  msg.textContent="Submission received! Pending approval."; msg.style.color="lightgreen";
  document.getElementById('submitName').value=''; document.getElementById('submitTitle').value=''; document.getElementById('submitLink').value=''; document.getElementById('submitDesc').value='';
  loadPending();
}

// Admin load pending
async function loadPending(){
  if(!isAdmin) return;
  const pendingContainer=document.getElementById('pendingContainer');
  pendingContainer.innerHTML='';
  const querySnapshot=await getDocs(collection(db,'submissions'));
  querySnapshot.forEach(docSnap=>{
    const data=docSnap.data();
    if(!data.approved){
      const div=document.createElement('div');
      div.className='card';
      div.innerHTML=`<h4>${data.title}</h4><p>${data.description}</p><p>By: ${data.name}</p>
      <button onclick="approve('${docSnap.id}')">Approve</button>`;
      pendingContainer.appendChild(div);
    }
  });
}

// Admin approve
async function approve(docId){
  const docRef=doc(db,'submissions',docId);
  await updateDoc(docRef,{approved:true});
  loadPortfolio(); loadPending();
}

// Floating background animation
for(let i=0;i<15;i++){
  const div=document.createElement('div');
  div.className='floating-icon';
  div.style.background=['#ffcc66','#ff5252','#66ccff','#cc66ff'][Math.floor(Math.random()*4)];
  div.style.top=Math.random()*window.innerHeight+'px';
  div.style.left=Math.random()*window.innerWidth+'px';
  div.style.width=15+Math.random()*20+'px';
  div.style.height=15+Math.random()*20+'px';
  div.style.animationDuration=5+Math.random()*10+'s';
  document.body.appendChild(div);
}
</script>

</body>
</html>
